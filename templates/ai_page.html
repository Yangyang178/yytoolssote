{% extends 'base.html' %}
{% block content %}
<div class="ai-container">
    <div class="container">
        <div class="ai-header">
            <h1 class="ai-title">AI 对话（DeepSeek）</h1>
            <p class="ai-subtitle">与AI进行智能对话，获取专业回答</p>
        </div>
        
        <div class="ai-card">
            <form action="{{ url_for('ai') }}" method="post" class="ai-form">
                <div class="form-section">
                    <h2 class="section-title">提问</h2>
                    
                    <div class="form-group">
                        <label for="prompt" class="form-label">您的问题</label>
                        <textarea id="prompt" name="prompt" rows="5" placeholder="在此输入您的问题" class="form-textarea" required></textarea>
                        <p class="form-hint">请详细描述您的问题，以便AI给出更准确的回答</p>
                    </div>
                </div>
                
                <div class="form-section">
                    <h2 class="section-title">AI设置</h2>
                    
                    <div class="form-row">
                        <div class="form-group half">
                            <label for="model" class="form-label">AI模型</label>
                            <select id="model" name="model" class="form-select">
                                <option value="deepseek-chat">DeepSeek Chat</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <a href="{{ url_for('index') }}" class="btn btn-cancel">取消</a>
                    <button type="submit" class="btn btn-primary btn-submit">
                        <span class="btn-icon">🤖</span>
                        发送到 DeepSeek
                    </button>
                </div>
            </form>
            
            {% if ai_error %}
                <div class="error-message">
                    <h3 class="error-title">请求失败</h3>
                    <p class="error-text">{{ ai_error }}</p>
                </div>
            {% endif %}
            
            {% if ai_output %}
                <div class="response-section">
                    <h2 class="section-title">AI回复</h2>
                    <div class="ai-output">
                        {{ ai_output }}
                    </div>
                </div>
            {% endif %}
        </div>
        
        <div class="ai-features">
            <h2 class="features-title">AI对话的优势</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">💡</div>
                    <h3 class="feature-title">智能回答</h3>
                    <p class="feature-desc">基于DeepSeek强大的AI模型，提供准确、专业的回答</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">⚡</div>
                    <h3 class="feature-title">快速响应</h3>
                    <p class="feature-desc">实时处理您的问题，快速返回结果</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📚</div>
                    <h3 class="feature-title">知识渊博</h3>
                    <p class="feature-desc">涵盖广泛的知识领域，解答各类问题</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🔒</div>
                    <h3 class="feature-title">安全可靠</h3>
                    <p class="feature-desc">保护您的隐私，确保对话内容安全</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="app-data" data-is-logged-in="{{ session.user_id is not none | tojson | safe }}" class="hidden"></div>
<link rel="stylesheet" href="{{ url_for('static', filename='ai.css') }}">
{% endblock %}